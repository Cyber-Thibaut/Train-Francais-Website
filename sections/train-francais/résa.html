<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png">
  <link rel="icoan" type="image/png" href="../../assets/img/favicon.png">
  <title>
    France Avenir
  </title>
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
  <!-- Nucleo Icons -->
  <link href="../../assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <!-- CSS Files -->
  <link id="pagestyle" href="../../assets/css/material-kit.css?v=3.0.4" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
  <style>
    .train-container {
      margin: 20px 0;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .train-info h5,
    .train-info-voyageur h5 {
      margin-top: 0.25em;
    }

    .train-info p,
    .train-info-voyageur p {
      margin-bottom: 0.0em;
    }

    .train-info {
        padding: 20px;
    }

    .train-prices {
        background-color: #f7f7f7;
        padding: 10px 20px;
        border-top: 1px solid #ddd;
    }
    .train-container-voyageur {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .train-info-voyageur {
      margin-bottom: 10px;
    }

    .train-prices-voyageur {
      display: flex;
      flex-direction: row;
    }

    .train-price-first-voyageur,
    .train-price-second-voyageur {
      width: 50%;
      padding: 10px;
      margin-right: 10px;
      border-radius: 5px;
    }
    .train-price-first-voyageur h4,
    .train-price-fret h4,
    .train-price-second-voyageur h4 {
      color: #fff;
    }

    .train-price-fret {
      width: 980px;
      height: 127px;
      margin-right: 10px;
      margin-left: 10px;
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .first-class-voyageur,
    .secon-class-voyageur {
      margin-top: 10px;
    }
    .train-price-first-voyageur {
    background-image: url('https://cdn.discordapp.com/attachments/1062738561939550250/1083134077344952351/IGP2338.JPG');
    background-color: rgba(238, 105, 105, 0.7); /* une couleur avec une opacit√© de 0,7 */
    background-blend-mode: multiply;
    background-size: cover;
    background-position: center;
  }
  
  .train-price-second-voyageur {
    background-image: url('https://cdn.discordapp.com/attachments/1062738561939550250/1083143194067345438/IGP2453.JPG');
    background-color: rgba(0, 153, 255, 0.7); /* une couleur avec une opacit√© de 0,7 */
    background-blend-mode: multiply;
    background-size: cover;
    background-position: center; /* afficher la partie centrale sup√©rieure de l'image */
  }
  .train-price-fret {
    background-image: url('https://cdn.discordapp.com/attachments/1062738561939550250/1083146598051229758/IMG_20220805_130449_HDR.jpg');
    background-color: rgba(94, 240, 94, 0.7); /* une couleur avec une opacit√© de 0,7 */
    background-blend-mode: multiply;
    background-size: cover;
    background-position: center;
    text-align: center;
  }
    .tag-important {
    background-color: #f44336; /* rouge */
    color: #fff; /* blanc */
    border-radius: 3px;
    padding: 2px 4px;
    font-size: 12px;
    margin-left: 10px;
    }
  
    .tag-info {
    background-color: #2196f3; /* bleu */
    color: #fff; /* blanc */
    border-radius: 3px;
    padding: 2px 4px;
    font-size: 12px;
    margin-left: 10px;
    }
  </style>
</head>

<body class="modals-sections">
  <!-- Navbar Light -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white py-3">
    <div class="container">
      <a class="navbar-brand" href="../../index.html">
        France Avenir
      </a>
      <button class="navbar-toggler shadow-none ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon mt-2">
          <span class="navbar-toggler-bar bar1"></span>
          <span class="navbar-toggler-bar bar2"></span>
          <span class="navbar-toggler-bar bar3"></span>
        </span>
      </button>
      <div class="collapse navbar-collapse w-100 pt-3 pb-2 py-lg-0 ms-lg-12 ps-lg-5" id="navigation">
        <ul class="navbar-nav navbar-nav-hover ms-auto">
          <li class="nav-item dropdown dropdown-hover mx-2 ms-lg-5">
            <a class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuPages" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="material-icons opacity-6 me-2 text-md">house</i>
              France Avenir
              <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-auto ms-md-2">
            </a>
            <div class="dropdown-menu ms-n3 dropdown-menu-animation dropdown-md p-3 border-radius-lg mt-0 mt-lg-3" aria-labelledby="dropdownMenuPages5">
              <a href="about.html" class="dropdown-item border-radius-md">About</a>
              <a href="../../livr√©es.html" class="dropdown-item border-radius-md">Nos livr√©es</a>              
              <a href="../train-francais/infotrafic.html" class="dropdown-item border-radius-md">Information Trafic</a>
              <a href="../../terms.html" class="dropdown-item border-radius-md">CGU</a>
            </div>
          </li>
          <li class="nav-item px-3">
            <a class="nav-link" href="../../ski.html"><i class="material-icons opacity-6 me-2 text-md">downhill_skiing</i>
              Ski Fran√ßais
            </a>
          </li>
          <li class="nav-item dropdown dropdown-hover mx-2">
            <a class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="material-icons opacity-6 me-2 text-md">train</i>
              Train Fran√ßais
              <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-auto ms-md-2">
            </a>
            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-animation dropdown-md dropdown-md-responsive p-3 border-radius-lg mt-0 mt-lg-3" aria-labelledby="dropdownMenuBlocks">
              <div class="d-none d-lg-block">
                <li class="nav-item dropdown dropdown-hover dropdown-subitem">
                  <a class="dropdown-item py-2 ps-3 border-radius-md" href="../presentation.html">
                    <div class="w-100 d-flex align-items-center justify-content-between">
                      <div>
                        <h6 class="dropdown-header text-dark font-weight-bolder d-flex justify-content-cente align-items-center p-0">Information Pratique</h6>
                        <span class="text-sm">Retrouvez toutes nos infos</span>
                      </div>
                      <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow">
                    </div>
                  </a>
                  <div class="dropdown-menu mt-0 py-3 px-2 mt-3">
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="inventaire.html">
                      Notre Inventaires
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="infotrafic.html">
                      info Trafic
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="r√©sa.html">
                      R√©server un billet
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="../../faq.html">
                      FAQ
                    </a>
                  </div>
                </li>
                <li class="nav-item dropdown dropdown-hover dropdown-subitem">
                  <a class="dropdown-item py-2 ps-3 border-radius-md" href="../presentation.html">
                    <div class="w-100 d-flex align-items-center justify-content-between">
                      <div>
                        <h6 class="dropdown-header text-dark font-weight-bolder d-flex justify-content-cente align-items-center p-0">Sur nos lignes</h6>
                        <span class="text-sm">En direct de nos trains, toutes les infos</span>
                      </div>
                      <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow">
                    </div>
                  </a>
                  <div class="dropdown-menu mt-0 py-3 px-2 mt-3">
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="fgv.html"><i class="material-icons opacity-6 me-2 text-md">train</i>
                      France √† Grande Vitesse
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="ice.html"><i class="material-icons opacity-6 me-2 text-md">train</i>
                      ICEurope
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="ics.html"><i class="material-icons opacity-6 me-2 text-md">train</i>
                      ICSuisse
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="r√©gion.html"><i class="material-icons opacity-6 me-2 text-md">train</i>
                      France R√©gion
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="tel.html"><i class="material-icons opacity-6 me-2 text-md">directions_railway_filled</i>
                      Train Express Lyonnais
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="tfm.html"><i class="material-icons opacity-6 me-2 text-md">local_shipping</i>
                      Train Fran√ßais Marchandise
                    </a>
                  </div>
                </li>
                <a href="d√©parts.html" class="dropdown-item border-radius-md"><i class="material-icons opacity-6 me-2 text-md">train</i>
                  Au d√©part de nos gares
                </a>
                <a href="alliance.html" class="dropdown-item border-radius-md"><i class="material-icons opacity-6 me-2 text-md">groups_2</i>
                  France Avenir, l'alliance <span class="tag tag-info">NOUVEAU !</span>
                </a>
              </div>
            </ul>
          </li>
          <li class="nav-item dropdown dropdown-hover mx-2">
            <a class="nav-link ps-2 d-flex cursor-pointer align-items-center" id="dropdownMenuBlocks" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="material-icons opacity-6 me-2 text-md">directions_bus_filled</i>
            Transport Clermont M√©tropole
              <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow ms-auto ms-md-2">
            </a>
            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-animation dropdown-md dropdown-md-responsive p-3 border-radius-lg mt-0 mt-lg-3" aria-labelledby="dropdownMenuBlocks">
              <div class="d-none d-lg-block">
                <li class="nav-item dropdown dropdown-hover dropdown-subitem">
                  <a class="dropdown-item py-2 ps-3 border-radius-md" href="../presentation.html">
                    <div class="w-100 d-flex align-items-center justify-content-between">
                      <div>
                        <h6 class="dropdown-header text-dark font-weight-bolder d-flex justify-content-cente align-items-center p-0">Information Pratique</h6>
                        <span class="text-sm">Retrouvez toutes nos infos</span>
                      </div>
                      <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow">
                    </div>
                  </a>
                <div class="dropdown-menu mt-0 py-3 px-2 mt-3">
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="../train-francais/infotrafic.html">
                      ‚ÑπÔ∏ènfo Trafic
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/tarifsbus.html">
                      Nos Tarifs
                    </a>
                    <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/agences.html">
                      Nos Agences
                    </a>
                  </div>
                </li>
              <li class="nav-item dropdown dropdown-hover dropdown-subitem">
                <a class="dropdown-item py-2 ps-3 border-radius-md" href="./presentation.html">
                  <div class="w-100 d-flex align-items-center justify-content-between">
                    <div>
                      <h6 class="dropdown-header text-dark font-weight-bolder d-flex justify-content-cente align-items-center p-0">Nos Lignes</h6>
                      <span class="text-sm">En direct de nos bus, toutes les infos</span>
                    </div>
                    <img src="../../assets/img/down-arrow-dark.svg" alt="down-arrow" class="arrow">
                  </div>
                </a>
                <div class="dropdown-menu mt-0 py-3 px-2 mt-3">
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/1.html">
                    <img src="../bus fran√ßais/1.png" width="10%" max-height="10%">
                    Gare Centrale <> Campus C√©zeaux
                  </a>
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/2.html">
                    <img src="../bus fran√ßais/2.png"  width="10%" height="10%">
                    Gare Centrale <> A√©roport
                  </a>
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/3.html">
                    <img src="../bus fran√ßais/3.png"  width="10%" height="10%">
                    Gare Centrale <> Campus Marthe Gautier
                  </a>
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/4.html">
                    <img src="../bus fran√ßais/4.png"  width="10%" height="10%">
                    Gare Centrale <> Gare de l'Est
                  </a>
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/5.html">
                    <img src="../bus fran√ßais/5.png"  width="10%" height="10%">
                    Mus√©e d'Art Moderne <> P√¥le Luca Pacioli
                  </a>
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/6.html">
                    <img src="../bus fran√ßais/6.png"  width="10%" height="10%">
                    Grand Palais <> Campus Maryse Esterle
                  </a>
                  <a class="dropdown-item ps-3 border-radius-md mb-1" href="../bus fran√ßais/lignes/7.html">
                    <img src="../bus fran√ßais/7.png"  width="10%" height="10%">
                    Port fluvial <> Grand Palais
                  </a>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- End Navbar -->
  <header>
    <div class="page-header min-vh-75" style="background-image: url(https://images.unsplash.com/photo-1501446529957-6226bd447c46?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2378&q=80)" loading="lazy">
      <span class="mask bg-gradient-dark opacity-4"></span>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto text-white text-center">
            <h2 class="text-white">R√©servez votre prochain voyage</h2>
            <p class="lead">Partez √† l'aventure avec nous</p>
          </div>
        </div>
      </div>
    </div>
    <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">
      <div class="container">
        <div class="row border-radius-md pb-4 p-3 mx-sm-0 mx-1 position-relative">
          <div class="col-lg-3 mt-lg-n2 mt-2">
            <label class="ms-0">Au d√©part de</label>
            <div class="input-group input-group-outline mb-4">
              <label class="form-label">Rechercher</label>
              <input class="form-control" type="text" id="searchInput" oninput="filterFunction()">
            </div>
            <div class="input-group input-group-static">
              <span class="input-group-text"><i class="fas fa-train"></i></span>
              <select id="selectBox1" class="form-control">
                <option disabled selected value>Choisissez la gare de d√©part</option>
              </select>
            </div></div>
          <div class="col-lg-3 mt-lg-n2 mt-2">
            <label class="ms-0">A destination de</label>
            <div class="input-group input-group-static">
              <span class="input-group-text"><i class="fas fa-location-dot"></i></span>
              <select id="selectBox2" class="form-control">
                <option disabled selected value>Choisissez la gare de d√©part</option>
              </select>
            </div>
          </div>
          <div class="col-lg-3 mt-lg-n2 mt-2">
            <label class="ms-0">Type de train</label>
            <div class="input-group input-group-static">
              <span class="input-group-text"></span>
              <select id="trainTypeFilter" class="form-control">
                <option value="all">Tous</option>
                <option value="v">Voyageurs</option>
                <option value="f">Fret</option>
            </select>
            </div>
          </div>
          <div class="col-lg-3 mt-lg-n2 mt-2">
            <label>&nbsp;</label>
            <button type="button" onclick="search()" class="btn bg-gradient-primary w-100 mb-0">Search</button>
          </div>
        </div>
      </div>
    </div>
  </header>
  <div class="container mt-5">
    <div class="row">
      <div class="col-lg-12 mx-auto">
        <div class="container py-7">
        <div class="card card-body shadow-xl mx-3 mx-md-4 mt-n6">            
          <div class="container">
              <div id="loading" style="display: none;">Chargement... üöÜüöÜ</div>
              <div id="results"></div>
          </div>
          </div>
        </div>
        <div class="container py-7">
          <div class="row mt-5">
            <div class="col-sm-3 col-6 mx-auto">
              <!-- Button trigger modal -->
              
              <!-- Modal -->
              <div class="modal fade" id="ticketModal" tabindex="-1" aria-labelledby="ticketModal" aria-hidden="true">
                <div class="modal-dialog modal-danger modal-dialog-centered modal-" role="document">
                  <div class="modal-content">
                    <div class="modal-body p-0">
                      <div class="card bg-gray-200 shadow border-0 mb-0">
                        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                          <div class="bg-gradient-info shadow-info border-radius-lg py-3 pe-1 text-center py-4">
                            <h4 class="font-weight-bolder text-white mt-1 mb-0">Merci pour votre confiance !</h4>
                            <p class="mb-1 text-sm text-white">Entrez vos informations</p>
                          </div>
                        </div>
                        <div class="card-body">
                          <form role="form text-start">
                            <div class="input-group input-group-static mb-4">
                              <label for="name">Nom Pr√©nom</label>
                              <input type="text" class="form-control" id="name" placeholder="Alex Dupont">
                            </div>
                            <div class="input-group input-group-static mb-4">
                              <label for="dob">Date de naissance</label>
                              <input type="date" class="form-control" id="dob" placeholder="12/12/2024">
                            </div>
                            <div class="text-center">
                              <button type="button" class="btn bg-gradient-info mt-4 mb-0" id="generateTicket" onclick='generateTicket()'>Acheter la place</button>
                            </div>
                          </form>
                        </div>                       
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
      </script>
      <script>
function filterFunction() {
    const input = document.getElementById("searchInput");
    const filter = input.value.toUpperCase();
    const select = document.getElementById("selectBox1");
    const optgroups = select.getElementsByTagName("optgroup");
    let isAnythingDisplayed = false;
    for (let i = 0; i < optgroups.length; i++) {
        const optgroup = optgroups[i];
        const options = optgroup.getElementsByTagName("option");
        let isDisplayed = false;
        for (let j = 0; j < options.length; j++) {
            const txtValue = options[j].textContent || options[j].innerText;
            const optValue = options[j].value.toUpperCase();
            if (txtValue.toUpperCase().includes(filter.toUpperCase()) || optValue.includes(filter.toUpperCase())) {
                options[j].style.display = "";
                isDisplayed = true;
                isAnythingDisplayed = true;
            } else {
                options[j].style.display = "none";
            }
        }
        if (isDisplayed) {
            optgroup.style.display = "";
        } else {
            optgroup.style.display = "none";
        }
    }
    if (!isAnythingDisplayed) {
        // Si rien n'est affich√©, afficher un message
        const noResultsOption = document.createElement("option");
        noResultsOption.text = "Aucun r√©sultat trouv√©";
        noResultsOption.disabled = true;
        select.innerHTML = "";
        select.appendChild(noResultsOption);
    } else if (filter === "") {
        // Si la barre de recherche est vide, r√©initialiser la liste
        for (let i = 0; i < optgroups.length; i++) {
            const optgroup = optgroups[i];
            const options = optgroup.getElementsByTagName("option");
            for (let j = 0; j < options.length; j++) {
                options[j].style.display = "";
            }
            optgroup.style.display = "";
        }
    }
}




        function init() {
            fetch('https://train-empire.com/api/getCompanyStations.php?auth=4ef1191fcad3fd8fca595469626f5f6c796f6e')
                .then(response => response.json())
                .then(data => {
                    var selectBox1 = document.getElementById("selectBox1");
                    var optgroup = null;
                    Object.entries(data).forEach(function ([pays, stations]) {
                        optgroup = document.createElement("optgroup");
                        optgroup.label = pays;
                        stations.forEach(function (station) {
                            var option = document.createElement("option");
                            option.text = station.name;
                            option.value = station.id;
                            optgroup.appendChild(option);
                        });
                        selectBox1.appendChild(optgroup);
                    });
                });
        
            const selectBox1 = document.getElementById("selectBox1");
            const selectBox2 = document.getElementById("selectBox2");
            selectBox1.addEventListener("change", function () {
                selectBox2.innerHTML = "";
                var from = this.value;
                fetch('https://train-empire.com/api/getCompanyDestinations.php?auth=4ef1191fcad3fd8fca595469626f5f6c796f6e&from=' + from)
                    .then(response => response.json())
                    .then(data => {
                        var optgroup = null;
                        Object.entries(data).forEach(function ([pays, stations]) {
                            optgroup = document.createElement("optgroup");
                            optgroup.label = pays;
                            stations.forEach(function (station) {
                                var option = document.createElement("option");
                                option.text = station.name;
                                option.value = station.id;
                                optgroup.appendChild(option);
                            });
                            selectBox2.appendChild(optgroup);
                        });
                    });
            });
        }
        
        function search() {
            const auth = "4ef1191fcad3fd8fca595469626f5f6c796f6e";
            const from = document.getElementById("selectBox1").value;
            const destination = document.getElementById("selectBox2").value;
            const trainTypeFilter = document.getElementById("trainTypeFilter").value;
        
            const loading = document.getElementById("loading");
        
            loading.style.display = "block";
        
            fetch(`https://train-empire.com/api/getFromToStations.php?auth=${auth}&origin=${from}&endPoint=${destination}&limit=10`)
                .then(response => response.json())
                .then(data => {
                    // Charg√© !
                    loading.style.display = "none";
                    LIST = data;
                    let i = 0;
                    let infraCount = 0;
                    let html = '';
                    data.forEach((train) => {
                        if (trainTypeFilter === "all") {
                            if (train.type === "f") {
                                html += `<div class='container mt-5'>
                                  <div class='col-lg-12 mx-auto card train-container'>
                                    <div class='card-body train-info'>
                                        <h4><strong>Depuis</strong> ${train.from} <strong>√† destination de</strong> ${train.to}</h4>
                                        <h5><strong>Interm√©diaire:</strong> ${train.intermediate.replace(/;/g, ', ')}</h5>
                                        <p><strong>Num√©ro de train:</strong> ${train.name} <strong>Service:</strong> ${train.service}</p>
                                        <p><strong>Heure de d√©part:</strong> ${train.departure} <strong>Heure d'arriv√©e:</strong> ${train.arrival}</p>
                                        <p><strong>Rame:</strong> ${train.trainset}</p>
                                    </div>
                                    <div class='card-footer train-prices'>
                                        <div class='train-price-fret'>
                                            <h4>Ce train ne prend pas de passagers car il s'agit d'un train de marchandises.<br>Pour conna√Ætre les tarifs, veuillez nous contacter.</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>`;
                            } else if (train.type === "i"){
                              infraCount++;
                            } else if (train.type === "v"){
                                html += `<div class="container mt-5">
                                <div class="col-lg-12 mx-auto train-container-voyageur">
                                  <div class="train-info-voyageur">
                                    <h4><strong>Depuis</strong> ${train.from} <strong>√† destination de</strong> ${train.to}</h4>
                                    <h5><strong>Interm√©diaire:</strong> ${train.intermediate.replace(/;/g, ', ')}</h5>
                                    <p><strong>Num√©ro de train:</strong> ${train.name} <strong>Service:</strong> ${train.service}</p>
                                    <p><strong>Heure de d√©part:</strong> ${train.departure} <strong>Heure d'arriv√©e:</strong> ${train.arrival}</p>
                                    <p><strong>Rame:</strong> ${train.trainset}</p>
                                  </div>
                                  <div class="train-prices-voyageur">
                                    <div class="train-price-first-voyageur ">
                                      <h4><strong>1√®re Classe:</strong> ${train.price1}‚Ç¨</h4>
                                      <center>
                                        <button type="button" class="btn btn-primary first-class-voyageur train-button" data-bs-toggle="modal" data-bs-target="#ticketModal" onclick="ticketSelect(${i}, '1')">Prendre ce billet</button>
                                      </center>
                                    </div>
                                    <div class="train-price-second-voyageur ">
                                      <h4><strong>2nde Classe:</strong> ${train.price2}‚Ç¨</h4>
                                      <center>
                                        <button type="button" class="btn btn-primary secon-class-voyageur train-button" data-bs-toggle="modal" data-bs-target="#ticketModal" onclick="ticketSelect(${i}, '2')">Prendre ce billet</button>
                                      </center>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              `;
                              i++;
                            }
                            } else if (train.type === "f" && trainTypeFilter === "f") {
                              html += `<div class='container mt-5'>
                                  <div class='col-lg-12 mx-auto card train-container'>
                                    <div class='card-body train-info'>
                                        <h4><strong>Depuis</strong> ${train.from} <strong>√† destination de</strong> ${train.to}</h4>
                                        <h5><strong>Interm√©diaire:</strong> ${train.intermediate.replace(/;/g, ', ')}</h5>
                                        <p><strong>Num√©ro de train:</strong> ${train.name} <strong>Service:</strong> ${train.service}</p>
                                        <p><strong>Heure de d√©part:</strong> ${train.departure} <strong>Heure d'arriv√©e:</strong> ${train.arrival}</p>
                                        <p><strong>Rame:</strong> ${train.trainset}</p>
                                    </div>
                                    <div class='card-footer train-prices'>
                                        <div class='train-price-fret'>
                                            <h4>Ce train ne prend pas de passagers car il s'agit d'un train de marchandises.<br>Pour conna√Ætre les tarifs, veuillez nous contacter.</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>`;
                            } else if (trainTypeFilter === "v" && train.type === trainTypeFilter) {
                              i++;
                              html += `<div class="container mt-5">
                                <div class="col-lg-12 mx-auto train-container-voyageur">
                                  <div class="train-info-voyageur">
                                    <h4><strong>Depuis</strong> ${train.from} <strong>√† destination de</strong> ${train.to}</h4>
                                    <h5><strong>Interm√©diaire:</strong> ${train.intermediate.replace(/;/g, ', ')}</h5>
                                    <p><strong>Num√©ro de train:</strong> ${train.name} <strong>Service:</strong> ${train.service}</p>
                                    <p><strong>Heure de d√©part:</strong> ${train.departure} <strong>Heure d'arriv√©e:</strong> ${train.arrival}</p>
                                    <p><strong>Rame:</strong> ${train.trainset}</p>
                                  </div>
                                  <div class="train-prices-voyageur">
                                    <div class="train-price-first-voyageur ">
                                      <h4><strong>1√®re Classe:</strong> ${train.price1}‚Ç¨</h4>
                                      <center>
                                        <button type="button" class="btn btn-primary first-class-voyageur train-button" data-bs-toggle="modal" data-bs-target="#ticketModal" onclick="ticketSelect(${i}, '1')">Prendre ce billet</button>
                                      </center>
                                    </div>
                                    <div class="train-price-second-voyageur ">
                                      <h4><strong>2nde Classe:</strong> ${train.price2}‚Ç¨</h4>
                                      <center>
                                        <button type="button" class="btn btn-primary secon-class-voyageur train-button" data-bs-toggle="modal" data-bs-target="#ticketModal" onclick="ticketSelect(${i}, '2')">Prendre ce billet</button>
                                      </center>
                                    </div>
                                  </div>
                                </div>
                              </div>`;
                              i++;
                        }
                        if (infraCount === data.length) {
                        // Si tous les trains sont d'infra, on affiche un message d'information
                        html = `<div class='container mt-5'>
                            <div class='col-lg-12 mx-auto train-container'>
                                <div class='train-info'>
                                    <h4>Aucun train de voyageurs ne correspond √† votre recherche.</h4>
                                    <p>Le seul trajet disponible pour ${data[0].from} ‚Üí ${data[0].to} est en train d'infrastructure.</p>
                                </div>
                            </div>
                        </div>` + html;
                        }
                            document.getElementById("results").innerHTML = html;
                        });
            
                    });
            }
        
        function ticketSelect(innerID, service) {
            console.log({ innerID, service });
            SERVICE = service;
            ID = innerID;
        }
        
        
        function generateTicket() {
            const pdf = new jsPDF();
        
            // Changer la police et la taille du texte
            pdf.setFont('helvetica');
            pdf.setFontSize(12);
        
            pdf.setTextColor(0, 0, 0);
            pdf.setFillColor(220, 220, 220);
        
            var reference = '';
            var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            for (var i = 0; i < 6; i++) {
                reference += possible.charAt(Math.floor(Math.random() * possible.length));
            }
            const name = document.getElementById('name').value;
            const dob = document.getElementById('dob').value;
            const selectedClass = SERVICE;
        
            pdf.rect(10, 10, 190, 250);
            // pdf.rect(10, 10, 190, 50);
            // pdf.rect(10, 50, 90, 100);
            pdf.rect(100, 50, 100, 190);
            // pdf.rect(10, 170, 190, 50);
            // pdf.rect(10, 220, 190, 50);
            
            pdf.text(20, 20, 'Voici le r√©capitulatif de votre billet :');
            pdf.text(20, 30, 'Nom : ' + name);
            pdf.text(120, 30, 'Date de naissance : ' + dob);
            pdf.text(20, 40, 'Classe : ' + selectedClass);
            pdf.text(120, 40, 'REF : ' + reference);
        
            const trainInfo = LIST[ID];
        
        
            var from = trainInfo['from'];
            var to = trainInfo['to']
            var intermediate = trainInfo['intermediate']
            var nametrain = trainInfo['name']
            var service = trainInfo['service']
            var departure = trainInfo['departure']
            var arrival = trainInfo['arrival']
            var stoptrain = trainInfo['intermediate'].split(';')
            var trainset = trainInfo['trainset']
            var price = selectedClass == "1" ? trainInfo['price1'] : trainInfo['price2'];
        
            const start = trainInfo['from'];
            const end = trainInfo['to'];
            const allStops = [start].concat(stoptrain).concat([end]);
            
            pdf.text(20, 60, 'Depuis : ' + from);
            pdf.text(20, 70, 'Destination : ' + to);
            pdf.text(20, 90, 'Nom du train : ' + nametrain);
            pdf.text(20, 100, 'Service : ' + service);
            pdf.text(20, 110, 'D√©part : ' + departure);
            pdf.text(20, 120, 'Arriv√©e : ' + arrival);
            pdf.text(20, 130, 'Composition du train : ' + trainset);
            pdf.text(20, 140, 'Prix : ' + price + '‚Ç¨');
        
            // Dessiner le trajet du train et les arr√™ts interm√©diaires
            // Calcul de la hauteur de la zone de dessin
            const height = 15 + (allStops.length + 1) * 15;
        
            // Dessin de la ligne reliant les arr√™ts interm√©diaires
            pdf.setDrawColor(0, 51, 102);
            pdf.setLineWidth(0.5);
            const lineX = 180;
            const lineY1 = 60;
            const lineY2 = lineY1 + (allStops.length * 15);
            pdf.line(lineX, lineY1, lineX, lineY2);
        
            // Dessin des points pour les arr√™ts interm√©diaires
            pdf.setFillColor(0, 51, 102);
            const radius = 3;
            for (let i = 0; i < allStops.length; i++) {
            if (allStops[i] !== "direct") {
                const pointX = lineX;
                const pointY = lineY1 + ((i + 1) * 15) - radius;
                pdf.circle(pointX, pointY, radius, 'F');
            }
            }
        
            // Dessin des noms des arr√™ts interm√©diaires
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(10);
            for (let i = 0; i < allStops.length; i++) {
            const textX = lineX - 5;
            const textY = lineY1 + ((i + 1) * 15) - radius + 1;
            if (i === 0 || i === allStops.length - 1) {
                pdf.setFontType("bold");
                pdf.setTextColor(0, 102, 204);
            }
            pdf.text(allStops[i], textX, textY, { align: 'right' });
            pdf.setFontType("normal");
            pdf.setTextColor(0, 0, 0);
            }
        
            pdf.save('billet.pdf');
            location.reload()
        }
        
        $(document).ready(function () {
            // Show modal and set the selected class value when first-class or second-class button is clicked
            $('.first-class').click(function () {
                $('#ticketModal').modal('show');
                $('#selectedClass').val('first-class');
            });
            $('.second-class').click(function () {
                $('#ticketModal').modal('show');
                $('#selectedClass').val('second-class');
            });
        
            var trainInfo;
            $('.train-button').click(function () {
                trainInfo = $(this).parent().parent().find('.train-info');
            });
        });
        document.getElementById("generateTicket").addEventListener("click", generateTicket);
        init();
        ID = null;
        SERVICE = null;
        LIST = [];
        </script>
      </div>
    </div>
  </div>
 <!-- -------- START FOOTER 5 w/ DARK BACKGROUND ------- -->
 <footer class="footer py-5 my-9 bg-gradient-dark position-relative overflow-hidden">
  <img src="https://www.esa.int/var/esa/storage/images/esa_multimedia/images/2013/04/aurora_over_norway/12618886-1-eng-GB/Aurora_over_Norway_pillars.jpg" alt="pattern-lines" class="position-absolute start-0 top-0 w-100 opacity-6">
  <div class="container position-relative z-index-1">
    <div class="row">
      <div class="col-lg-4 me-auto mb-lg-0 mb-4 text-lg-start text-center">
        <h6 class="text-white font-weight-bolder text-uppercase mb-lg-4 mb-3">France Avenir</h6>
        <ul class="nav flex-row ms-n3 align-items-center mb-4 mt-sm-0">
          <li class="nav-item">
            <a class="nav-link text-white opacity-8" href="fgv.html" target="_blank">
              FGV
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white opacity-8" href="tel.html" target="_blank">
              TEL
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-white opacity-8" href="ice.html" target="_blank">
              ICEurope
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white opacity-8" href="d√©parts.html" target="_blank">
              Au d√©part de nos Gares
            </a>
          </li>
        </ul>
        <p class="text-sm text-white opacity-8 mb-0">
          Copyright ¬© <script>document.write(new Date().getFullYear())</script> France Avenir par Thibaut.
        </p>
      </div>
      <div class="col-lg-6 ms-auto text-lg-end text-center">
        <p class="mb-5 text-lg text-white font-weight-bold">
          Le voyage en train est une m√©taphore de la vie elle-m√™me, avec ses hauts et ses bas, ses d√©tours et ses arr√™ts, mais toujours avec la possibilit√© de d√©couvrir de nouveaux horizons
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- -------- END FOOTER 5 w/ DARK BACKGROUND ------- -->
  <!--   Core JS Files   -->
  <script src="../../assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="../../assets/js/core/bootstrap.min.js" type="text/javascript"></script>
  <script src="../../assets/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="../../assets/js/plugins/prism.min.js"></script>
  <script src="../../assets/js/plugins/highlight.min.js"></script>
  <!--  Plugin for Parallax, full documentation here: https://github.com/wagerfield/parallax  -->
  <script src="../../assets/js/plugins/parallax.min.js"></script>
  <!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTTfWur0PDbZWPr7Pmq8K3jiDp0_xUziI"></script>
  <script src="../../assets/js/material-kit.min.js?v=3.0.4" type="text/javascript"></script>
</body>

</html>